config:
  agent:
    nodeResourceTopology: true
  allocatorTopologyBalancing: false
  reservedResources:
    cpu: 750m
  pinCPU: true
  pinMemory: true
  balloonTypes:
  - name: kubesystemcpu
    preferCloseToDevices:
    - /sys/devices/system/cpu/cpu6/cache/index0

  - name: node0
    preferCloseToDevices:
    - /sys/devices/system/node/node0

  - name: node1
    preferCloseToDevices:
    - /sys/devices/system/node/node1

  - name: node2
    preferCloseToDevices:
    - /sys/devices/system/node/node2

  - name: node3
    preferCloseToDevices:
    - /sys/devices/system/node/node3

  - name: balance-all-nodes
    components:
    - balloonType: node0
    - balloonType: node1
    - balloonType: node2
    - balloonType: node3
    minCPUs: 4
    minBalloons: 1 # allocate this balloon second
    showContainersInNrt: true

  - name: pkg0
    components:
    - balloonType: node0
    - balloonType: node1

  - name: pkg1
    components:
    - balloonType: node2
    - balloonType: node3
    preferNewBalloons: true

  - name: reserved
    components:
    - balloonType: kubesystemcpu
  log:
    debug:
      - policy
